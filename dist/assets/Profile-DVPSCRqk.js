import{r as n,j as s,C as g}from"./index-3iRPG9Bu.js";import{a as d,b as v}from"./index.esm-aB2BTCbt.js";import{C as m,a as u}from"./CRow-BGaT1TWU.js";import{C as y,a as S}from"./CCardBody-ZnA988Qk.js";import{C as k}from"./CCardHeader-D5Sem3LH.js";import{c as E}from"./cil-user-Ddrdy7PS.js";import{C as F}from"./CForm-B3srEGj3.js";import{C as w}from"./CFormInput-BjgXPPX5.js";import{C as p}from"./CAlert-CS1k0cQ9.js";import{c as L}from"./cil-lock-locked-DmxpJbVL.js";import"./CFormControlWrapper-DTREpq_c.js";import"./CCloseButton-B86-_tbR.js";import"./useForkedRef-DSh7hi_l.js";var z=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='200.359 382.269 61.057 251.673 82.943 228.327 199.641 337.731 428.686 108.687 451.314 131.313 200.359 382.269' class='ci-primary'/>"];const M=()=>{const[c,A]=n.useState({name:"Juan Pérez",email:"juan.perez@example.com",role:"Administrador",registered:"15 de marzo de 2023"}),[a,x]=n.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[e,i]=n.useState({}),[h,j]=n.useState(!1),[C,f]=n.useState(!1),P=o=>o.length>=8,l=o=>{const{name:r,value:t}=o.target;x(N=>({...N,[r]:t}))},b=async o=>{o.preventDefault();const r={};if(a.currentPassword||(r.currentPassword="La contraseña actual es requerida"),P(a.newPassword)||(r.newPassword="La contraseña debe tener al menos 8 caracteres"),a.newPassword!==a.confirmPassword&&(r.confirmPassword="Las contraseñas no coinciden"),Object.keys(r).length>0){i(r);return}j(!0),i({}),f(!1);try{await new Promise(t=>setTimeout(t,1500)),f(!0),x({currentPassword:"",newPassword:"",confirmPassword:""})}catch{i({submit:"Error al cambiar la contraseña. Verifique su contraseña actual."})}finally{j(!1)}};return s.jsx(m,{className:"justify-content-center",children:s.jsx(u,{md:8,children:s.jsxs(y,{className:"mb-4",children:[s.jsxs(k,{className:"d-flex align-items-center",children:[s.jsx(d,{icon:E,className:"me-2"}),"Perfil de Usuario"]}),s.jsxs(S,{children:[s.jsx(m,{className:"mb-4",children:s.jsxs(u,{children:[s.jsx("h5",{children:"Información del Usuario"}),s.jsxs("dl",{className:"row",children:[s.jsx("dt",{className:"col-sm-3",children:"Nombre:"}),s.jsx("dd",{className:"col-sm-9",children:c.name}),s.jsx("dt",{className:"col-sm-3",children:"Email:"}),s.jsx("dd",{className:"col-sm-9",children:c.email}),s.jsx("dt",{className:"col-sm-3",children:"Rol:"}),s.jsx("dd",{className:"col-sm-9",children:c.role}),s.jsx("dt",{className:"col-sm-3",children:"Registrado:"}),s.jsx("dd",{className:"col-sm-9",children:c.registered})]})]})}),s.jsx(m,{children:s.jsxs(u,{children:[s.jsx("h5",{children:"Cambiar Contraseña"}),s.jsxs(F,{onSubmit:b,children:[s.jsx("div",{className:"mb-3",children:s.jsx(w,{type:"password",name:"currentPassword",label:"Contraseña Actual",value:a.currentPassword,onChange:l,invalid:!!e.currentPassword,feedback:e.currentPassword})}),s.jsx("div",{className:"mb-3",children:s.jsx(w,{type:"password",name:"newPassword",label:"Nueva Contraseña",value:a.newPassword,onChange:l,invalid:!!e.newPassword,feedback:e.newPassword})}),s.jsx("div",{className:"mb-4",children:s.jsx(w,{type:"password",name:"confirmPassword",label:"Confirmar Nueva Contraseña",value:a.confirmPassword,onChange:l,invalid:!!e.confirmPassword,feedback:e.confirmPassword})}),e.submit&&s.jsx(p,{color:"danger",className:"mb-3",children:e.submit}),C&&s.jsxs(p,{color:"success",className:"mb-3",children:[s.jsx(d,{icon:z,className:"me-2"}),"¡Contraseña actualizada exitosamente!"]}),s.jsx("div",{className:"d-flex justify-content-end",children:s.jsx(v,{type:"submit",color:"primary",disabled:h,children:h?s.jsxs(s.Fragment,{children:[s.jsx(g,{component:"span",size:"sm","aria-hidden":"true"}),s.jsx("span",{className:"ms-2",children:"Procesando..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(d,{icon:L,className:"me-2"}),"Cambiar Contraseña"]})})})]})]})})]})]})})})};export{M as default};
